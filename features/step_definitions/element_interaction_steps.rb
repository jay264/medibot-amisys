When /^in the "([^"]*)" page I check the "([^"]*)" checkbox$/ do |page, element|
  get_element(page, element)
  @element.when_present.set
end

When /^in the "([^"]*)" page I choose the "([^"]*)" radio$/ do |page, element|
  get_element(page, element)
  @element.when_present.set
end

When /^in the "([^"]*)" page I clear the "([^"]*)" field$/ do |page, element|
  get_element(page, element)
  @element.when_present.clear
end

When /^in the "([^"]*)" page I click on "([^"]*)"$/ do |page, element|
  get_element(page, element)
  @element.when_present.click
end

When /^in the "([^"]*)" page I click on "([^"]*)" if it exists$/ do |page, element|
  get_element(page, element)
  @element.click if @element.exists?
end

When /^in the "([^"]*)" page I enter "([^"]*)" into the "([^"]*)" field$/ do |page, text, element|
  get_element(page, element)
  text = jfl(text)
  wait.until {@element.exists?}
  @element.when_present.set(text)
end

When /^in the "([^"]*)" page I enter the primary "([^"]*)" into the "([^"]*)" field and save the variable$/ do |page, text, element|
diagnosis_codes = Array.new
diagnosis_codes = text.split ", "
$primary_diagnosis_code = diagnosis_codes.shift
text = $primary_diagnosis_code
  get_element(page, element)
  text = jfl(text)
  wait.until {@element.exists?}
  @element.when_present.set(text)
end

When /^in the "([^"]*)" page I convert "([^"]*)" into the "([^"]*)" field$/ do |page, text, element|
  get_element(page, element)
  text = jfl(text)
  date = text.unpack('A4xA2xA2').rotate.join("")
  wait.until {@element.exists?}
  @element.when_present.set(date)
end

When /^in the "([^"]*)" page I format and enter "([^"]*)" into the "([^"]*)" field$/ do |page, text, element|
  get_element(page, element)
  text = word_wrap(text)
  @element.when_present.set(text)
end

When /^in the "([^"]*)" page I enter todays date into the "([^"]*)" field$/ do |page, element|
  get_element(page, element)
  date = Time.now.strftime("%m/%d/%y")
  @element.when_present.set(date)
end

When /^in the "([^"]*)" page I hover on "([^"]*)"$/ do |page, element|
  get_element(page, element)
  @element.when_present.hover
end

When /^in the "([^"]*)" page I right click on "([^"]*)"$/ do |page, element|
  get_element(page, element)
  @element.when_present.right_click
end

When /^in the "([^"]*)" page I save the value of the "([^"]*)" element as "([^"]*)"$/ do |page, element, variable|
  get_element(page, element)
  value = @element.when_present.class.to_s.match('Select') ? @element.selected_options.map(&:text).join(',') : @element.value.strip
  value = @element.text.strip if value == ""
  case variable
    when "STORED_VALUE(1)"
      $stored_value_1 = value
    when "STORED_VALUE(2)"
      $stored_value_2 = value
    when "STORED_VALUE(3)"
      $stored_value_3 = value
	  when "STORED_VALUE(4)"
      $stored_value_4 = value
    when "STORED_VALUE(5)"
      $stored_value_5 = value
    when "STORED_VALUE(6)"
      $stored_value_6 = value
    when "STORED_VALUE(7)"
      $stored_value_7 = value
    when "STORED_VALUE(8)"
      $stored_value_8 = value
    when "STORED_VALUE(9)"
      $stored_value_9 = value
    else
      raise Exception, "Variable must be STORED_VALUE(1), STORED_VALUE(2), or STORED_VALUE(3)"
  end
end

When /^in the "([^"]*)" page I select "([^"]*)" from the "([^"]*)" field$/ do |page, option, element|
  get_element(page, element)
  option = jfl(option)
  @element.when_present.select(option)
end

When /^in the "([^"]*)" page I uncheck the "([^"]*)" checkbox$/ do |page, element|
  get_element(page, element)
  @element.when_present.clear
end

When /^in the "([^"]*)" page I focus on the "([^"]*)" element$/ do |page, element|
  get_element(page, element)
  @element.when_present.focus
end

When /^in the "([^"]*)" page I should be focused on the "([^"]*)" element$/ do |page, element|
  get_element(page, element)
  @element.when_present.focused?
end

When /^in the "([^"]*)" page I use the determination "([^"]*)" to determine what to enter into the "([^"]*)" field$/ do |page, determination, element|
case determination
when "APPROVED"
	sorted_ex_code = "A1"
when "APPROVED - No Assessment"
	sorted_ex_code = "A1"
when "APPROVED-CHANGED"
	sorted_ex_code = "A1"
when "WITHDRAWN"
	sorted_ex_code = "UC"
end
get_element(page, element)
@element.when_present.set(sorted_ex_code)
end

When /^in the "([^"]*)" page I use the modality "([^"]*)" to determine what to enter into the "([^"]*)" field$/ do |page, modality, element|
case modality
when "CT", "MRI", "CTA", "SPEC", "PET", "MRA", "CPAC"
		sorted_modality = "RB"
	when "CPSC", "CARD", "CRTD", "CDEF", "CRTP", "CWCD"
		sorted_modality = "CX"
	when "MOCH", "BRA", "MOHO", "MOBI", "IMRT", "NUC", "2D3D", "MOPR"
		sorted_modality = "PB"
end
get_element(page, element)
@element.when_present.set(sorted_modality)
end

When /^in the "([^"]*)" page I use the sub-class "([^"]*)" to determine what to enter into the "([^"]*)" field$/ do |page, modality, element|
case modality
  when "Cardiology (HH)"
	  sorted_modality = "CO"
  when "Clinical Trial"
	  sorted_modality = "CT"
  when "DME"
    sorted_modality = "DM"
  when "Genetic Testing"
    sorted_modality = "UK"
  when "Hyperbaric Oxygen"
    sorted_modality = "HB"
  when "Integrated Oncology (HH)"
    sorted_modality = "PX"
  when "Observation"
    sorted_modality = "OB"
  when "OP Behavioral Health"
    sorted_modality = "BH"
  when "OP Substance Abuse"
    sorted_modality = "ED"
  when "Out of Network Services"
    sorted_modality = "ON"
  when "Outpatient Surgery/Procedure"
    sorted_modality = "PB"
  when "Part B Therapy"
    sorted_modality = "TH"
  when "Predetermination Request"
    sorted_modality = "OP"
  when "Radiology (HH)"
    sorted_modality = "RB"
  when "Transplant"
    sorted_modality = "TP"
  when "Inpatient"
    sorted_modality = "IP"
  when "Inpatient Rehabilitation"
    sorted_modality = "RH"
  when "IP Behavioral Health"
    sorted_modality = "BI"
  when "IP Substance Abuse"
    sorted_modality = "SA"
  when "Long Term Acute Care Hospital"
    sorted_modality = "LT"
  when "Skilled Nursing Facility"
    sorted_modality = "SN"
  end
get_element(page, element)
@element.when_present.set(sorted_modality)
end

When /^in the "([^"]*)" page I use the sub class "([^"]*)" and the status "([^"]*)" and the status reason "([^"]*)" to determine what to enter into the "([^"]*)" field$/ do |page, essette_sub_class, status, status_reason, element|
if essette_sub_class == "Inpatient" && status == "Approved" && status_reason == "ACO"
  ex_code = "PZ"
elsif essette_sub_class == "Inpatient" && status == "Approved" && status_reason == "Case Rate"
  ex_code = "9A"
elsif essette_sub_class == "Inpatient" && status == "Approved" && status_reason == "Clinical Trial"
  ex_code = "A6"
elsif essette_sub_class == "Inpatient" && status == "Approved" && status_reason == "EIS"
  ex_code = "PZ"
elsif essette_sub_class == "Inpatient" && status == "Approved" && status_reason == "Inpatient"
  ex_code = "BE"
elsif essette_sub_class == "Inpatient" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "Inpatient" && status == "Approved" && status_reason == "Pending Admission"
  ex_code = "9A"
elsif essette_sub_class == "Inpatient" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "BF"
elsif essette_sub_class == "Inpatient" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "BF"
elsif essette_sub_class == "Inpatient" && status == "Approved" && status_reason == "Concurrent Review"
  ex_code = "9A"
elsif essette_sub_class == "Inpatient" && status == "Approved" && status_reason == "Observation"
  ex_code = "BE"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Approved" && status_reason == "Inpatient"
  ex_code = "BF"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Approved" && status_reason == "Pending Admission"
  ex_code = "9A"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "BE"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "BF"
elsif essette_sub_class == "Inpatient Behavioral Health" && status == "Approved" && status_reason == "Inpatient"
  ex_code = "BE"
elsif essette_sub_class == "Inpatient Behavioral Health" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "Inpatient Behavioral Health" && status == "Approved" && status_reason == "Pending Admission"
  ex_code = "9A"
elsif essette_sub_class == "Inpatient Behavioral Health" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "BE"
elsif essette_sub_class == "Inpatient Behavioral Health" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "BE"
elsif essette_sub_class == "IP Behavioral Health" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "BE"
elsif essette_sub_class == "IP Behavioral Health" && status == "Approved" && status_reason == "Inpatient"
  ex_code = "BE"
elsif essette_sub_class == "IP Behavioral Health" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "IP Behavioral Health" && status == "Approved" && status_reason == "Pending Admission"
  ex_code = "9A"
elsif essette_sub_class == "IP Behavioral Health" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "BE"
elsif essette_sub_class == "IP Behavioral Health" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "BE"
elsif essette_sub_class == "IP Behavioral Health" && status == "Approved" && status_reason == "Concurrent Review"
  ex_code = "BE"
elsif essette_sub_class == "IP Substance Abuse" && status == "Approved" && status_reason == "Inpatient"
  ex_code = "BE"
elsif essette_sub_class == "IP Substance Abuse" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "IP Substance Abuse" && status == "Approved" && status_reason == "Pending Admission"
  ex_code = "9A"
elsif essette_sub_class == "IP Substance Abuse" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "BE"
elsif essette_sub_class == "IP Substance Abuse" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "BE"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Approved" && status_reason == "Inpatient"
  ex_code = "BE"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Approved" && status_reason == "Pending Admission"
  ex_code = "9A"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "BE"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "BE"
elsif essette_sub_class == "Observation" && status == "Approved" && status_reason == "Case Rate"
  ex_code = "9A"
elsif essette_sub_class == "Observation" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "Observation" && status == "Approved" && status_reason == "Observation"
  ex_code = "PS"
elsif essette_sub_class == "Observation" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "PS"
elsif essette_sub_class == "Observation" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "PS"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Approved" && status_reason == "SNF"
  ex_code = "BD"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Approved" && status_reason == "Pending Admission"
  ex_code = "9A"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "BD"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "BD"
elsif essette_sub_class == "Transplant" && status == "Approved" && status_reason == "Inpatient"
  ex_code = "BE"
elsif essette_sub_class == "Transplant" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "Transplant" && status == "Approved" && status_reason == "Transplant Procedure"
  ex_code = "AB"
elsif essette_sub_class == "Transplant" && status == "Approved" && status_reason == "Services Not Available In-Network"
  ex_code = "A7"
elsif essette_sub_class == "Transplant" && status == "Approved" && status_reason == "Pending Admission"
  ex_code = "9A"
elsif essette_sub_class == "Clinical Trial" && status == "Approved" && status_reason == "Inpatient"
  ex_code = "A6"
elsif essette_sub_class == "Transplant" && status == "Approved" && status_reason == "Inpatient"
  ex_code = "BE"
elsif essette_sub_class == "Inpatient" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "Inpatient" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Inpatient" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Inpatient" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Inpatient" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Inpatient" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Denied" && status_reason == "Non-Covered Services (SNF, Rehabs)"
  ex_code = "WL"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
 elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "IP Behavioral Health" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "IP Behavioral Health" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "IP Behavioral Health" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "IP Behavioral Health" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "IP Behavioral Health" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "IP Behavioral Health" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "IP Substance Abuse" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "IP Substance Abuse" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "IP Substance Abuse" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "IP Substance Abuse" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "IP Substance Abuse" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "IP Substance Abuse" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "IP Substance Abuse" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Denied" && status_reason == "Services Continued at Higher Level (LTACH)"
  ex_code = "BB"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Observation" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "Observation" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Observation" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Observation" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Observation" && status == "Denied" && status_reason == "Skilled Criteria Not Met"
  ex_code = "WR"
elsif essette_sub_class == "Observation" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WR"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Denied" && status_reason == "Non-Covered Services (SNF, Rehabs)"
  ex_code = "WL"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Transplant" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "Transplant" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Transplant" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Transplant" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Transplant" && status == "Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Transplant" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Pre-Service" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Inpatient" && status == "Interim Approval" && status_reason == "INPT"
  ex_code = "9A"
elsif essette_sub_class == "Inpatient" && status == "Interim Approval" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Interim Approval" && status_reason == "INPT"
  ex_code = "9A"
elsif essette_sub_class == "IP Behavioral Health" && status == "Interim Approval" && status_reason == "INPT"
  ex_code = "9A"
elsif essette_sub_class == "IP Substance Abuse" && status == "Interim Approval" && status_reason == "INPT"
  ex_code = "9A"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Interim Approval" && status_reason == "INPT"
  ex_code = "9A"
elsif essette_sub_class == "Observation" && status == "Interim Approval" && status_reason == "INPT"
  ex_code = "9A"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Interim Approval" && status_reason == "INPT"
  ex_code = "9A"
elsif essette_sub_class == "Transplant" && status == "Interim Approval" && status_reason == "INPT"
  ex_code = "9A"
elsif essette_sub_class == "Inpatient" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "Inpatient" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "Inpatient" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "Inpatient" && status == "Overturned on Appeal (Reopen)" && status_reason == "Medigold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Overturned on Appeal (Reopen)" && status_reason == "Medigold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "IP Behavioral Health" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "IP Behavioral Health" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "IP Behavioral Health" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "IP Behavioral Health" && status == "Overturned on Appeal (Reopen)" && status_reason == "Medigold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "IP Substance Abuse" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "IP Substance Abuse" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "IP Substance Abuse" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "IP Substance Abuse" && status == "Overturned on Appeal (Reopen)" && status_reason == "Medigold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Overturned on Appeal (Reopen)" && status_reason == "Medigold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "Observation" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "Observation" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "Observation" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "Observation" && status == "Overturned on Appeal (Reopen)" && status_reason == "Medigold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Overturned on Appeal (Reopen)" && status_reason == "Medigold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "Transplant" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "Transplant" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "Transplant" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "Transplant" && status == "Overturned on Appeal (Reopen)" && status_reason == "Medigold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "Inpatient" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "BE"
elsif essette_sub_class == "Inpatient" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "BE"
elsif essette_sub_class == "Inpatient" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "BE"
elsif essette_sub_class == "Inpatient" && status == "Post Approval Change" && status_reason == "Readmission"
  ex_code = "BE"
elsif essette_sub_class == "Inpatient" && status == "Post Approval Change" && status_reason == "Cancel EIS"
  ex_code = "BE"
elsif essette_sub_class == "Inpatient" && status == "Post Approval Change" && status_reason == "Cancel ACO"
  ex_code = "BE"
elsif essette_sub_class == "Inpatient" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "BF"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "BF"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "BF"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Post Approval Change" && status_reason == "Readmission"
  ex_code = "BF"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "IP Behavioral Health" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "BF"
elsif essette_sub_class == "IP Behavioral Health" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "BF"
elsif essette_sub_class == "IP Behavioral Health" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "BF"
elsif essette_sub_class == "IP Behavioral Health" && status == "Post Approval Change" && status_reason == "Readmission"
  ex_code = "BF"
elsif essette_sub_class == "IP Behavioral Health" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "IP Substance Abuse" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "BE"
elsif essette_sub_class == "IP Substance Abuse" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "BE"
elsif essette_sub_class == "IP Substance Abuse" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "BE"
elsif essette_sub_class == "IP Substance Abuse" && status == "Post Approval Change" && status_reason == "Readmission"
  ex_code = "BE"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "BE"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "BE"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "BE"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Post Approval Change" && status_reason == "Reimbursement Change"
  ex_code = "BE"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Post Approval Change" && status_reason == "Readmission"
  ex_code = "BE"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "BD"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "BD"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "BD"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Post Approval Change" && status_reason == "Reimbursement Change"
  ex_code = "BD"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Post Approval Change" && status_reason == "Readmission"
  ex_code = "BD"
elsif essette_sub_class == "Transplant" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "BE"
elsif essette_sub_class == "Transplant" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "BE"
elsif essette_sub_class == "Transplant" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "BE"
elsif essette_sub_class == "Transplant" && status == "Post Approval Change" && status_reason == "Readmission"
  ex_code = "BE"
elsif essette_sub_class == "Transplant" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "Observation" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "PS"
elsif essette_sub_class == "Observation" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "PS"
elsif essette_sub_class == "Observation" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "PS"
elsif essette_sub_class == "Observation" && status == "Post Approval Change" && status_reason == "Readmission"
  ex_code = "PS"
elsif essette_sub_class == "Observation" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "Observation" && status == "Post Denial Change" && status_reason == "Withdrawn"
  ex_code = "BE"
elsif essette_sub_class == "Inpatient" && status == "Reopen Approved" && status_reason == ""
  ex_code = "BE"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Reopen Approved" && status_reason == ""
  ex_code = "BF"
elsif essette_sub_class == "IP Behavioral Health" && status == "Reopen Approved" && status_reason == ""
  ex_code = "BE"
elsif essette_sub_class == "IP Substance Abuse" && status == "Reopen Approved" && status_reason == ""
  ex_code = "BE"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Reopen Approved" && status_reason == ""
  ex_code = "BE"
elsif essette_sub_class == "Observation" && status == "Reopen Approved" && status_reason == ""
  ex_code = "PS"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Reopen Approved" && status_reason == ""
  ex_code = "BD"
elsif essette_sub_class == "Transplant" && status == "Reopen Approved" && status_reason == ""
  ex_code = "BE"
elsif essette_sub_class == "Inpatient" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Reopen Denied" && status_reason == "Non-Covered Services (SNF, Rehabs)"
  ex_code = "WL"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Reopen Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Inpatient Rehabilitation" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "IP Behavioral Health" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "IP Behavioral Health" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "IP Behavioral Health" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "IP Substance Abuse" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "IP Substance Abuse" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "IP Substance Abuse" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Long Term Acute Care Hospital" && status == "Reopen Denied" && status_reason == "Services Continued at Higher Level (LTACH)"
  ex_code = "BB"
elsif essette_sub_class == "Observation" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Observation" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Reopen Denied" && status_reason == "Skilled Criteria Not Met"
  ex_code = "WR"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Reopen Denied" && status_reason == "Non-Covered Services (SNF, Rehabs)"
  ex_code = "WL"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Skilled Nursing Facility" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Transplant" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Transplant" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Transplant" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Transplant" && status == "Reopen Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Cardiology (HH)" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "Cardiology (HH)" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "BE"
elsif essette_sub_class == "Cardiology (HH)" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "A1"
elsif essette_sub_class == "Clinical Trial" && status == "Approved" && status_reason == "Clinical Trial"
  ex_code = "A6"
elsif essette_sub_class == "Clinical Trial" && status == "Approved" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "Clinical Trial" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "A6"
elsif essette_sub_class == "Clinical Trial" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "A6"
elsif essette_sub_class == "DME" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "BF"
elsif essette_sub_class == "DME" && status == "Approved" && status_reason == "PPO-In-Network Rate"
  ex_code = "BF"
elsif essette_sub_class == "DME" && status == "Approved" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "BF"
elsif essette_sub_class == "DME" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "A1"
elsif essette_sub_class == "DME" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "9A"
elsif essette_sub_class == "Genetic Testing" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "Genetic Testing" && status == "Approved" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Genetic Testing" && status == "Approved" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Genetic Testing" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "A1"
elsif essette_sub_class == "Genetic Testing" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "A1"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Approved" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Approved" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "A1"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "A1"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "A1"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "A1"
elsif essette_sub_class == "OP Behavioral Health" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "OP Behavioral Health" && status == "Approved" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "OP Behavioral Health" && status == "Approved" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "OP Behavioral Health" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "A1"
elsif essette_sub_class == "OP Behavioral Health" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "A1"
elsif essette_sub_class == "OP Substance Abuse" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "OP Substance Abuse" && status == "Approved" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "OP Substance Abuse" && status == "Approved" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "OP Substance Abuse" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "A1"
elsif essette_sub_class == "OP Substance Abuse" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "A1"
elsif essette_sub_class == "Out of Network Services" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "Out of Network Services" && status == "Approved" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Out of Network Services" && status == "Approved" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Out of Network Services" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "A1"
elsif essette_sub_class == "Out of Network Services" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "A1"
elsif essette_sub_class == "Out of Network Services" && status == "Approved" && status_reason == "Services Not Available In-Network"
  ex_code = "A7"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Approved" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Approved" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "A1"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "A1"
elsif essette_sub_class == "Part B Therapy" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "Part B Therapy" && status == "Approved" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Part B Therapy" && status == "Approved" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Part B Therapy" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "A1"
elsif essette_sub_class == "Part B Therapy" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "A1"
elsif essette_sub_class == "Predetermination Request" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "Predetermination Request" && status == "Approved" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Predetermination Request" && status == "Approved" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Predetermination Request" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "A1"
elsif essette_sub_class == "Predetermination Request" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "A1"
elsif essette_sub_class == "Radiology (HH)" && status == "Approved" && status_reason == "Medical Criteria Met"
  ex_code = "A1"
elsif essette_sub_class == "Radiology (HH)" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "A1"
elsif essette_sub_class == "Radiology (HH)" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "9A"
elsif essette_sub_class == "Transplant Eval" && status == "Approved" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Transplant Eval" && status == "Approved" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Transplant Eval" && status == "Approved" && status_reason == "Secondary Only"
  ex_code = "A1"
elsif essette_sub_class == "Transplant Eval" && status == "Approved" && status_reason == "With Additional Info"
  ex_code = "A1"
elsif essette_sub_class == "Transplant Eval" && status == "Approved" && status_reason == "Services Not Available In-Network"
  ex_code = "A7"
elsif essette_sub_class == "Transplant Eval" && status == "Approved" && status_reason == "Transplant Evaluation"
  ex_code = "AB"
elsif essette_sub_class == "Cardiology (HH)" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "Cardiology (HH)" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Cardiology (HH)" && status == "Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "Cardiology (HH)" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Cardiology (HH)" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Cardiology (HH)" && status == "Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Cardiology (HH)" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Cardiology (HH)" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Clinical Trial" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Clinical Trial" && status == "Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "Clinical Trial" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Clinical Trial" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Clinical Trial" && status == "Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Clinical Trial" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Clinical Trial" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "DME" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "DME" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "DME" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "DME" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "DME" && status == "Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "DME" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "DME" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Genetic Testing" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "Genetic Testing" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Genetic Testing" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Genetic Testing" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Genetic Testing" && status == "Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Genetic Testing" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Genetic Testing" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "OP Behavioral Health" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "OP Behavioral Health" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "OP Behavioral Health" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "OP Behavioral Health" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "OP Behavioral Health" && status == "Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "OP Behavioral Health" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "OP Behavioral Health" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "OP Substance Abuse" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "OP Substance Abuse" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "OP Substance Abuse" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "OP Substance Abuse" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "OP Substance Abuse" && status == "Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "OP Substance Abuse" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "OP Substance Abuse" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Out of Network Services" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "Out of Network Services" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Out of Network Services" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Out of Network Services" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Out of Network Services" && status == "Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Out of Network Services" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Out of Network Services" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Part B Therapy" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "Part B Therapy" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Part B Therapy" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Part B Therapy" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Part B Therapy" && status == "Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Part B Therapy" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Part B Therapy" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Predetermination Request" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "Predetermination Request" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Predetermination Request" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Predetermination Request" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Predetermination Request" && status == "Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Predetermination Request" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Predetermination Request" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Radiology (HH)" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "Radiology (HH)" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Radiology (HH)" && status == "Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "Radiology (HH)" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Radiology (HH)" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Radiology (HH)" && status == "Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Radiology (HH)" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Radiology (HH)" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Transplant Eval" && status == "Denied" && status_reason == "Administration Denial"
  ex_code = "9A"
elsif essette_sub_class == "Transplant Eval" && status == "Denied" && status_reason == "Member Not Eligible"
  ex_code = "M3"
elsif essette_sub_class == "Transplant Eval" && status == "Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Transplant Eval" && status == "Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Transplant Eval" && status == "Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Transplant Eval" && status == "Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Transplant Eval" && status == "Denied" && status_reason == "Criteria Not Met"
  ex_code = "WS"
elsif essette_sub_class == "Cardiology (HH)" && status == "Interim Approval" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Cardiology (HH)" && status == "Interim Approval" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Clinical Trial" && status == "Interim Approval" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Clinical Trial" && status == "Interim Approval" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Genetic Testing" && status == "Interim Approval" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Genetic Testing" && status == "Interim Approval" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Interim Approval" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Interim Approval" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Interim Approval" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Interim Approval" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "OP Behavioral Health" && status == "Interim Approval" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "OP Behavioral Health" && status == "Interim Approval" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "OP Substance Abuse" && status == "Interim Approval" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "OP Substance Abuse" && status == "Interim Approval" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Out of Network Services" && status == "Interim Approval" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Out of Network Services" && status == "Interim Approval" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Interim Approval" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Interim Approval" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Part B Therapy" && status == "Interim Approval" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Part B Therapy" && status == "Interim Approval" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Predetermination Request" && status == "Interim Approval" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Predetermination Request" && status == "Interim Approval" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Radiology (HH)" && status == "Interim Approval" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Radiology (HH)" && status == "Interim Approval" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Transplant Eval" && status == "Interim Approval" && status_reason == "PPO-In-Network Rate"
  ex_code = "A1"
elsif essette_sub_class == "Transplant Eval" && status == "Interim Approval" && status_reason == "PPO-Out-of-Network Rate"
  ex_code = "9A"
elsif essette_sub_class == "Cardiology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "Cardiology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "Cardiology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "Cardiology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "MediGold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "Clincal Trial" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "Clincal Trial" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "Clincal Trial" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "Clincal Trial" && status == "Overturned on Appeal (Reopen)" && status_reason == "MediGold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "DME" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "DME" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "DME" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "DME" && status == "Overturned on Appeal (Reopen)" && status_reason == "MediGold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "Genetic Testing" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "Genetic Testing" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "Genetic Testing" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "Genetic Testing" && status == "Overturned on Appeal (Reopen)" && status_reason == "MediGold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Overturned on Appeal (Reopen)" && status_reason == "MediGold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "MediGold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "OP Behavioral Health" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "OP Behavioral Health" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "OP Behavioral Health" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "OP Behavioral Health" && status == "Overturned on Appeal (Reopen)" && status_reason == "MediGold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "OP Substance Abuse" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "OP Substance Abuse" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "OP Substance Abuse" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "OP Substance Abuse" && status == "Overturned on Appeal (Reopen)" && status_reason == "MediGold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "Out of Network Services" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "Out of Network Services" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "Out of Network Services" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "Out of Network Services" && status == "Overturned on Appeal (Reopen)" && status_reason == "MediGold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "Part B Therapy" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "Part B Therapy" && status == "Overturned on Appeal (Reopen)" && status_reason == "MediGold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "Predetermination Request" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "Predetermination Request" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "Radiology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "MAXIMUS"
  ex_code = "A1"
elsif essette_sub_class == "Radiology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "MediGold Appeal"
  ex_code = "A1"
elsif essette_sub_class == "Transplant Eval" && status == "Overturned on Appeal (Reopen)" && status_reason == "ALJ"
  ex_code = "A1"
elsif essette_sub_class == "Transplant Eval" && status == "Overturned on Appeal (Reopen)" && status_reason == "KEPRO"
  ex_code = "A1"
elsif essette_sub_class == "Cardiology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "Exceeds Quantity or Frequency Limits"
  ex_code = "A1"
elsif essette_sub_class == "Cardiology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Covered by Medicare"
  ex_code = "9A"
elsif essette_sub_class == "Cardiology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Medically Necessary"
  ex_code = "9A"
elsif essette_sub_class == "Clinical Trial" && status == "Overturned on Appeal (Reopen)" && status_reason == "Exceeds Quantity or Frequency Limits"
  ex_code = "A1"
elsif essette_sub_class == "Clinical Trial" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Covered by Medicare"
  ex_code = "9A"
elsif essette_sub_class == "Clinical Trial" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Medically Necessary"
  ex_code = "9A"
elsif essette_sub_class == "DME" && status == "Overturned on Appeal (Reopen)" && status_reason == "Exceeds Quantity or Frequency Limits"
  ex_code = "A1"
elsif essette_sub_class == "DME" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Covered by Medicare"
  ex_code = "9A"
elsif essette_sub_class == "DME" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Medically Necessary"
  ex_code = "9A"
elsif essette_sub_class == "Genetic Testing" && status == "Overturned on Appeal (Reopen)" && status_reason == "Exceeds Quantity or Frequency Limits"
  ex_code = "A1"
elsif essette_sub_class == "Genetic Testing" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Covered by Medicare"
  ex_code = "9A"
elsif essette_sub_class == "Genetic Testing" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Medically Necessary"
  ex_code = "9A"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Overturned on Appeal (Reopen)" && status_reason == "Exceeds Quantity or Frequency Limits"
  ex_code = "A1"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Covered by Medicare"
  ex_code = "9A"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Medically Necessary"
  ex_code = "9A"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "Exceeds Quantity or Frequency Limits"
  ex_code = "A1"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Covered by Medicare"
  ex_code = "9A"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Medically Necessary"
  ex_code = "9A"
elsif essette_sub_class == "OP Behavioral Health" && status == "Overturned on Appeal (Reopen)" && status_reason == "Exceeds Quantity or Frequency Limits"
  ex_code = "A1"
elsif essette_sub_class == "OP Behavioral Health" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Covered by Medicare"
  ex_code = "9A"
elsif essette_sub_class == "OP Behavioral Health" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Medically Necessary"
  ex_code = "9A"
elsif essette_sub_class == "OP Substance Abuse" && status == "Overturned on Appeal (Reopen)" && status_reason == "Exceeds Quantity or Frequency Limits"
  ex_code = "A1"
elsif essette_sub_class == "OP Substance Abuse" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Covered by Medicare"
  ex_code = "9A"
elsif essette_sub_class == "OP Substance Abuse" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Medically Necessary"
  ex_code = "9A"
elsif essette_sub_class == "Out of Network Services" && status == "Overturned on Appeal (Reopen)" && status_reason == "Exceeds Quantity or Frequency Limits"
  ex_code = "A1"
elsif essette_sub_class == "Out of Network Services" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Covered by Medicare"
  ex_code = "9A"
elsif essette_sub_class == "Out of Network Services" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Medically Necessary"
  ex_code = "9A"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Overturned on Appeal (Reopen)" && status_reason == "Exceeds Quantity or Frequency Limits"
  ex_code = "A1"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Covered by Medicare"
  ex_code = "9A"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Medically Necessary"
  ex_code = "9A"
elsif essette_sub_class == "Part B Therapy" && status == "Overturned on Appeal (Reopen)" && status_reason == "Exceeds Quantity or Frequency Limits"
  ex_code = "A1"
elsif essette_sub_class == "Part B Therapy" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Covered by Medicare"
  ex_code = "9A"
elsif essette_sub_class == "Part B Therapy" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Medically Necessary"
  ex_code = "9A"
elsif essette_sub_class == "Predetermination Request" && status == "Overturned on Appeal (Reopen)" && status_reason == "Exceeds Quantity or Frequency Limits"
  ex_code = "A1"
elsif essette_sub_class == "Predetermination Request" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Covered by Medicare"
  ex_code = "9A"
elsif essette_sub_class == "Predetermination Request" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Medically Necessary"
  ex_code = "9A"
elsif essette_sub_class == "Radiology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "Exceeds Quantity or Frequency Limits"
  ex_code = "A1"
elsif essette_sub_class == "Radiology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Covered by Medicare"
  ex_code = "9A"
elsif essette_sub_class == "Radiology (HH)" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Medically Necessary"
  ex_code = "9A"
elsif essette_sub_class == "Transplant Eval" && status == "Overturned on Appeal (Reopen)" && status_reason == "Exceeds Quantity or Frequency Limits"
  ex_code = "A1"
elsif essette_sub_class == "Transplant Eval" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Covered by Medicare"
  ex_code = "9A"
elsif essette_sub_class == "Transplant Eval" && status == "Overturned on Appeal (Reopen)" && status_reason == "Portion of Request Not Medically Necessary"
  ex_code = "9A"
elsif essette_sub_class == "Cardiology (HH)" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "Cardiology (HH)" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "A1"
elsif essette_sub_class == "Cardiology (HH)" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "A1"
elsif essette_sub_class == "Cardiology (HH)" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "A1"
elsif essette_sub_class == "Clinical Trial" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "Clinical Trial" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "A1"
elsif essette_sub_class == "Clinical Trial" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "A1"
elsif essette_sub_class == "Clinical Trial" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "A1"
elsif essette_sub_class == "DME" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "DME" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "A1"
elsif essette_sub_class == "DME" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "A1"
elsif essette_sub_class == "DME" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "A1"
elsif essette_sub_class == "Genetic Testing" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "Genetic Testing" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "A1"
elsif essette_sub_class == "Geneteic Testing" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "A1"
elsif essette_sub_class == "Genetic Testing" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "A1"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "A1"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "A1"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "A1"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "A1"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "A1"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "A1"
elsif essette_sub_class == "OP Behavioral Health" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "OP Behavioral Health" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "A1"
elsif essette_sub_class == "OP Behavioral Health" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "A1"
elsif essette_sub_class == "OP Behavioral Health" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "A1"
elsif essette_sub_class == "OP Substance Abuse" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "OP Substance Abuse" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "A1"
elsif essette_sub_class == "OP Substance Abuse" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "A1"
elsif essette_sub_class == "OP Substance Abuse" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "A1"
elsif essette_sub_class == "Out of Network Services" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "Out of Network Services" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "A1"
elsif essette_sub_class == "Out of Network Services" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "A1"
elsif essette_sub_class == "Out of Network Services" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "A1"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "A1"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "A1"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "A1"
elsif essette_sub_class == "Part B Therapy" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "Part B Therapy" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "A1"
elsif essette_sub_class == "Part B Therapy" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "A1"
elsif essette_sub_class == "Part B Therapy" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "A1"
elsif essette_sub_class == "Predetermination Request" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "Predetermination Request" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "A1"
elsif essette_sub_class == "Predetermination Request" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "A1"
elsif essette_sub_class == "Predetermination Request" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "A1"
elsif essette_sub_class == "Radiology (HH)" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "Radiology (HH)" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "A1"
elsif essette_sub_class == "Radiology (HH)" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "A1"
elsif essette_sub_class == "Radiology (HH)" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "A1"
elsif essette_sub_class == "Transplant Eval" && status == "Post Approval Change" && status_reason == "Withdrawn"
  ex_code = "BL"
elsif essette_sub_class == "Transplant Eval" && status == "Post Approval Change" && status_reason == "Date Change"
  ex_code = "A1"
elsif essette_sub_class == "Transplant Eval" && status == "Post Approval Change" && status_reason == "Provider Change"
  ex_code = "A1"
elsif essette_sub_class == "Transplant Eval" && status == "Post Approval Change" && status_reason == "Procedure Change"
  ex_code = "A1"
elsif essette_sub_class == "Cardiology (HH)" && status == "Reopen Approved" && status_reason == ""
  ex_code = "A1"
elsif essette_sub_class == "Clinical Trial" && status == "Reopen Approved" && status_reason == ""
  ex_code = "A1"
elsif essette_sub_class == "DME" && status == "Reopen Approved" && status_reason == ""
  ex_code = "A1"
elsif essette_sub_class == "Genetic Testing" && status == "Reopen Approved" && status_reason == ""
  ex_code = "A1"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Reopen Approved" && status_reason == ""
  ex_code = "A1"
elsif essette_sub_class == "Integrated Oncology" && status == "Reopen Approved" && status_reason == ""
  ex_code = "A1"
elsif essette_sub_class == "OP Behavioral Health" && status == "Reopen Approved" && status_reason == ""
  ex_code = "A1"
elsif essette_sub_class == "OP Substance Abuse" && status == "Reopen Approved" && status_reason == ""
  ex_code = "A1"
elsif essette_sub_class == "Out of Network Services" && status == "Reopen Approved" && status_reason == ""
  ex_code = "A1"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Reopen Approved" && status_reason == ""
  ex_code = "A1"
elsif essette_sub_class == "Part B Therapy" && status == "Reopen Approved" && status_reason == ""
  ex_code = "A1"
elsif essette_sub_class == "Predetermination Request" && status == "Reopen Approved" && status_reason == ""
  ex_code = "A1"
elsif essette_sub_class == "Radiology (HH)" && status == "Reopen Approved" && status_reason == ""
  ex_code = "A1"
elsif essette_sub_class == "Transplant Eval" && status == "Reopen Approved" && status_reason == ""
  ex_code = "A1"
elsif essette_sub_class == "Cardiology (HH)" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Cardiology (HH)" && status == "Reopen Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "Cardiology (HH)" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Cardiology (HH)" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Cardiology (HH)" && status == "Reopen Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Clinical Trial" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Clinical Trial" && status == "Reopen Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "Clinical Trial" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Clinical Trial" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Clinical Trial" && status == "Reopen Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "DME" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "DME" && status == "Reopen Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "DME" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "DME" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "DME" && status == "Reopen Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Genetic Testing" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Genetic Testing" && status == "Reopen Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "Genetic Testing" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Genetic Testing" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Genetic Testing" && status == "Reopen Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Reopen Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Hyperbaric Oxygen" && status == "Reopen Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Reopen Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Integrated Oncology (HH)" && status == "Reopen Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "OP Behavioral Health" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "OP Behavioral Health" && status == "Reopen Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "OP Behavioral Health" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "OP Behavioral Health" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "OP Behavioral Health" && status == "Reopen Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "OP Substance Abuse" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "OP Substance Abuse" && status == "Reopen Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "OP Substance Abuse" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "OP Substance Abuse" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "OP Substance Abuse" && status == "Reopen Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Out of Network Services" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Out of Network Services" && status == "Reopen Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "Out of Network Services" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Out of Network Services" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Out of Network Services" && status == "Reopen Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Reopen Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Outpatient Surgery/Procedure" && status == "Reopen Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Part B Therapy" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Part B Therapy" && status == "Reopen Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "Part B Therapy" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Part B Therapy" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Part B Therapy" && status == "Reopen Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Predetermination Request" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Predetermination Request" && status == "Reopen Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "Predetermination Request" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Predetermination Request" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Predetermination Request" && status == "Reopen Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Radiology (HH)" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Radiology (HH)" && status == "Reopen Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "Radiology (HH)" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Radiology (HH)" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Radiology (HH)" && status == "Reopen Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
elsif essette_sub_class == "Transplant Eval" && status == "Reopen Denied" && status_reason == "Services Available In-Network"
  ex_code = "BC"
elsif essette_sub_class == "Transplant Eval" && status == "Reopen Denied" && status_reason == "Not a Covered Benefit (PA)"
  ex_code = "WL"
elsif essette_sub_class == "Transplant Eval" && status == "Reopen Denied" && status_reason == "Not Medically Necessary"
  ex_code = "WR"
elsif essette_sub_class == "Transplant Eval" && status == "Reopen Denied" && status_reason == "Requested Medical Documentation Not Received"
  ex_code = "WS"
elsif essette_sub_class == "Transplant Eval" && status == "Reopen Denied" && status_reason == "Requested Services Considered Experimental"
  ex_code = "94"
end
get_element(page, element)
@element.when_present.set(ex_code)
end

When /^in the "([^"]*)" page I use the source "([^"]*)" to determine what to enter into the "([^"]*)" field$/ do |page, modality, element|
case modality
when "EMR"
	  sorted_modality = "MN"
  when "Fax"
	  sorted_modality = "FX"
  when "HealthHelp"
	  sorted_modality = "HH"
  when "Mail"
    sorted_modality = "ML"
  when "Phone"
    sorted_modality = "PH"
  when "Provider Portal"
    sorted_modality = "MN"
  when "Reports"
    sorted_modality = "RP"
  when "Member"
    sorted_modality = "MN"
  end
get_element(page, element)
@element.when_present.set(sorted_modality)
end

When /^in the "([^"]*)" page I determine whether it is an HMO or PPO and insert it into the "([^"]*)" field$/ do |page, element|

  if @hmoorppo.include? "PG: HM"
	    sorted_hmoorppo = "HM"
  elsif @hmoorppo.include? "PG: PP"
	    sorted_hmoorppo = "PP"
  end
  get_element(page, element)
  @element.when_present.set(sorted_hmoppo)
end

When /^in the "([^"]*)" page I save the HMO or PPO data from the "([^"]*)" element$/ do |page, element|
  get_element(page, element)
  #puts element.to_s
  @hmoorppo = element.to_s
end

When /^in the "([^"]*)" page I scroll to the right of the "([^"]*)" table$/ do |page, element|
  get_element(page, element)
  @element.when_present.send_keys :arrow_right
end

When /^I scroll to the right 150 times$/ do
  135.times do
    $browser.send_keys(:'arrow_right')
  end
end

When /^I scroll to the left 150 times$/ do
  135.times do
    $browser.send_keys(:'arrow_left')
  end
end

When /^I press tab 17 times$/ do
  17.times do
    $browser.send_keys(:'tab')
  end
end

When /^I press tab 7 times$/ do
  7.times do
    $browser.send_keys(:'tab')
  end
end

When /^I press tab 3 times$/ do
  3.times do
    $browser.send_keys(:'tab')
  end
end

When /^I press tab 14 times$/ do
  14.times do
    $browser.send_keys(:'tab')
  end
end

When /^in the "([^"]*)" page I enter the first "([^"]*)" into the "([^"]*)" service code field and save the variable$/ do |page, text, element|
  if !text.empty?
    get_element(page, element)
    #puts "text = " + text.to_s
    $service_codes = Array.new
	$service_codes = text.split ", "
	text = $service_codes.shift
	text = jfl(text)
	$first_service_code = text
	wait.until {@element.exists?}
	@element.when_present.set(text)
  end
end

When /^in the "([^"]*)" page I save the "([^"]*)" service codes$/ do |page, text|
  if !text.empty?
    #get_element(page, element)
    #puts "text = " + text.to_s
    $service_codes = Array.new
	  $service_codes = text.split ", "
	  #text = $service_codes.shift
	  #text = jfl(text)
	  $first_service_code = $service_codes.shift
	  #wait.until {@element.exists?}
	  #@element.when_present.set(text)
  end
end

When /^in the "([^"]*)" page I determine progress notes using "([^"]*)", "([^"]*)", "([^"]*)", "([^"]*)", "([^"]*)", "([^"]*)", and "([^"]*)" and insert it into the "([^"]*)" field$/ do |page, req_prov, phone, fax, procedure, facility, ref_number, essette_number, element|
  recieved_date = Date.today.to_s
  full_text = "Received Pre-Cert  on #{receieved_date} request from: #{req_prov} \nPhone #: #{phone} Fax #: #{fax} \nRequested : #{procedure} \nFacility: #{facility} \nHealthHelp Reference No #{ref_number} \nFILE                     LINE\nEssette Authorization Number: #{essette_number}"
  get_element(page, element)
  @element.when_present.set(full_text)
end

When /^I kill the browser$/ do
  delete_hanging_browsers
end
